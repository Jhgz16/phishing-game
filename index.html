<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phishing Awareness Quiz</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    #message-body a {
      color: blue;
      text-decoration: underline;
    }
  </style>
</head>
<body class="bg-gray-100 font-sans">
  <div class="container mx-auto p-4 max-w-4xl">
    <!-- Header -->
    <header class="text-center mb-8">
      <h1 class="text-3xl font-bold text-gray-800">Phishing Awareness Quiz</h1>
      <p class="text-gray-600 mt-2">Test your ability to spot phishing emails and SMS. Can you identify the scams?</p>
    </header>

    <!-- Progress Tracker -->
    <div class="mb-6">
      <div class="flex justify-between items-center">
        <p class="text-gray-700">Question <span id="current-question">1</span> of <span id="total-questions">10</span></p>
        <p class="text-gray-700">Score: <span id="score">0</span></p>
      </div>
      <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
        <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full" style="width: 10%"></div>
      </div>
    </div>

    <!-- Quiz Container -->
    <div id="quiz-container" class="bg-white shadow-lg rounded-lg p-6">
      <!-- Message Display -->
      <div id="message-display" class="border border-gray-300 rounded-lg p-4 mb-4">
        <div id="message-header" class="flex justify-between items-center mb-2">
          <span id="sender" class="font-semibold"></span>
          <span id="difficulty" class="text-sm text-gray-500"></span>
        </div>
        <p id="subject" class="font-medium mb-2"></p>
        <div id="message-body" class="text-gray-700"></div>
      </div>

      <!-- Answer Buttons -->
      <div class="flex justify-center space-x-4">
        <button id="legitimate-btn" class="bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600">Legitimate</button>
        <button id="phishing-btn" class="bg-red-500 text-white px-6 py-2 rounded hover:bg-red-600">Phishing</button>
      </div>
    </div>

    <!-- Feedback Modal -->
    <div id="feedback-modal" class="hidden fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center">
      <div class="bg-white rounded-lg p-6 max-w-lg w-full">
        <h2 id="feedback-title" class="text-xl font-bold mb-4"></h2>
        <p id="feedback-message" class="text-gray-700 mb-4"></p>
        <button id="next-btn" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Next</button>
      </div>
    </div>

    <!-- Results Screen -->
    <div id="results-container" class="hidden bg-white shadow-lg rounded-lg p-6">
      <h2 class="text-2xl font-bold text-gray-800 mb-4">Quiz Complete!</h2>
      <p class="text-gray-700 mb-4">Your final score: <span id="final-score"></span> out of 10</p>
      <p id="results-message" class="text-gray-700 mb-4"></p>
      <button id="restart-btn" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Restart Quiz</button>
    </div>
  </div>

  <script>
    const questions = [
      // Easy Questions (8)
      {
        type: 'email',
        difficulty: 'Easy',
        sender: 'Apple Support <support@applee-id.com>',
        subject: 'Your Apple ID Has Been Locked!',
        body: 'Dear Customer,<br>Your Apple ID has been locked due to suspicious activity. Please verify your identity by clicking <a href="http://applee-id.com/verify" onmouseover="showURL(\'http://applee-id.com/verify\')" onmouseout="hideURL()">here</a> within 24 hours.<br>Thank you,<br>Apple Team',
        isPhishing: true,
        feedback: 'This is a phishing email. The sender’s domain "applee-id.com" has an extra "e" and is not the official "apple.com". Urgent requests to verify accounts via links are common phishing tactics.'
      },
      {
        type: 'sms',
        difficulty: 'Easy',
        sender: 'BPI Alert',
        subject: 'Account Security Warning',
        body: 'BPI: Your account is at risk! Secure it now at <a href="http://bpi-security.com/verify" onmouseover="showURL(\'http://bpi-security.com/verify\')" onmouseout="hideURL()">bpi-security.com/verify</a>.',
        isPhishing: true,
        feedback: 'This is a smishing attempt. The domain "bpi-security.com" is not BPI’s official "bpi.com.ph". Banks don’t send SMS with links to secure accounts.'
      },
      {
        type: 'email',
        difficulty: 'Easy',
        sender: 'Spotify Support <support@spotify.com>',
        subject: 'Your Subscription Receipt',
        body: 'Dear Member,<br>Your Spotify Premium subscription has been renewed. Next billing: May 20, 2025. View details <a href="https://www.spotify.com/account" onmouseover="showURL(\'https://www.spotify.com/account\')" onmouseout="hideURL()">here</a>.<br>Enjoy your music!<br>Spotify Team',
        isPhishing: false,
        feedback: 'This is a legitimate email. The sender’s domain is "spotify.com", and the link points to the official Spotify website. The message lacks urgent or suspicious requests.'
      },
      {
        type: 'sms',
        difficulty: 'Easy',
        sender: 'Shopee PH',
        subject: 'Order Confirmation',
        body: 'Shopee: Your order #123456 will arrive by May 15, 2025. Track it at <a href="https://shopee.ph/track" onmouseover="showURL(\'https://shopee.ph/track\')" onmouseout="hideURL()">shopee.ph/track</a>.',
        isPhishing: false,
        feedback: 'This is a legitimate SMS. The domain "shopee.ph" is official, and the message provides specific order details without urgent requests.'
      },
      {
        type: 'email',
        difficulty: 'Easy',
        sender: 'Microsoft Support <support@micr0soft.com>',
        subject: 'Urgent: Account Verification Required',
        body: 'Dear User,<br>Your Microsoft account needs verification. Click <a href="http://micr0soft.com/verify" onmouseover="showURL(\'http://micr0soft.com/verify\')" onmouseout="hideURL()">here</a> to avoid suspension.<br>Microsoft Team',
        isPhishing: true,
        feedback: 'This is a phishing email. The domain "micr0soft.com" uses a zero instead of an "o", unlike the official "microsoft.com".'
      },
      {
        type: 'sms',
        difficulty: 'Easy',
        sender: 'Lazada Alert',
        subject: 'Account Issue',
        body: 'Lazada: Your account has an issue! Fix it at <a href="http://lazadaa.ph/fix" onmouseover="showURL(\'http://lazadaa.ph/fix\')" onmouseout="hideURL()">lazadaa.ph/fix</a>.',
        isPhishing: true,
        feedback: 'This is a smishing attempt. The domain "lazadaa.ph" has an extra "a" and is not the official "lazada.com.ph".'
      },
      {
        type: 'email',
        difficulty: 'Easy',
        sender: 'Google Support <support@google.com>',
        subject: 'Your Google Drive Storage Update',
        body: 'Dear User,<br>Your Google Drive storage plan has been updated. View details <a href="https://drive.google.com/settings" onmouseover="showURL(\'https://drive.google.com/settings\')" onmouseout="hideURL()">here</a>.<br>Google Team',
        isPhishing: false,
        feedback: 'This is a legitimate email. The sender’s domain is "google.com", and the link points to the official Google Drive settings page.'
      },
      {
        type: 'sms',
        difficulty: 'Easy',
        sender: 'PayMaya',
        subject: 'Transaction Confirmation',
        body: 'PayMaya: Your payment of P500 was successful. View details at <a href="https://www.paymaya.com/transactions" onmouseover="showURL(\'https://www.paymaya.com/transactions\')" onmouseout="hideURL()">paymaya.com/transactions</a>.',
        isPhishing: false,
        feedback: 'This is a legitimate SMS. The domain "paymaya.com" is official, and the message provides specific transaction details.'
      },
      // Medium Questions (11)
      {
        type: 'email',
        difficulty: 'Medium',
        sender: 'BDO Online Banking <onlinebanking@bdo.com.ph>',
        subject: 'Update Your Account Details',
        body: 'Dear Client,<br>We’ve updated our security policies. Update your details <a href="http://bdo-online.ph/update" onmouseover="showURL(\'http://bdo-online.ph/update\')" onmouseout="hideURL()">here</a> within 48 hours to avoid restrictions.<br>BDO Team',
        isPhishing: true,
        feedback: 'This is a phishing email. The sender’s domain "bdo.com.ph" is legitimate, but the link points to "bdo-online.ph", a fake domain. Always verify URLs.'
      },
      {
        type: 'sms',
        difficulty: 'Medium',
        sender: 'GCash Support',
        subject: 'Claim Your Cashback',
        body: 'GCash: You’ve earned P500 cashback! Claim it at <a href="http://gcash-promo.co/claim" onmouseover="showURL(\'http://gcash-promo.co/claim\')" onmouseout="hideURL()">gcash-promo.co/claim</a>.',
        isPhishing: true,
        feedback: 'This is a smishing scam. The domain "gcash-promo.co" is not GCash’s official "gcash.com". Unsolicited cashback offers are common phishing tactics.'
      },
      {
        type: 'email',
        difficulty: 'Medium',
        sender: 'Amazon Support <support@amazon.com>',
        subject: 'Order #789012 Shipped',
        body: 'Dear Customer,<br>Your order #789012 has shipped and will arrive by May 18, 2025. Track it <a href="https://www.amazon.com/orders" onmouseover="showURL(\'https://www.amazon.com/orders\')" onmouseout="hideURL()">here</a>.<br>Amazon Team',
        isPhishing: false,
        feedback: 'This is a legitimate email. The sender’s domain is "amazon.com", and the link points to the official Amazon orders page.'
      },
      {
        type: 'sms',
        difficulty: 'Medium',
        sender: 'Globe Telecom',
        subject: 'Payment Reminder',
        body: 'Globe: Your bill of P1200 is due May 15, 2025. Pay now at <a href="https://www.globe.com.ph/pay" onmouseover="showURL(\'https://www.globe.com.ph/pay\')" onmouseout="hideURL()">globe.com.ph/pay</a>.',
        isPhishing: false,
        feedback: 'This is a legitimate SMS. The domain "globe.com.ph" is official, and the message provides specific bill details.'
      },
      {
        type: 'email',
        difficulty: 'Medium',
        sender: 'PayPal Support <support@paypal.com>',
        subject: 'Action Required: Verify Payment',
        body: 'Dear User,<br>A recent payment needs verification. Confirm it <a href="http://paypal-verify.com/confirm" onmouseover="showURL(\'http://paypal-verify.com/confirm\')" onmouseout="hideURL()">here</a> within 24 hours.<br>PayPal Team',
        isPhishing: true,
        feedback: 'This is a phishing email. The link points to "paypal-verify.com", not the official "paypal.com". Verify payments directly on PayPal’s website.'
      },
      {
        type: 'sms',
        difficulty: 'Medium',
        sender: 'Shopee PH',
        subject: 'Exclusive Voucher',
        body: 'Shopee: Get P200 off your next purchase! Claim at <a href="http://shopee-voucher.ph/claim" onmouseover="showURL(\'http://shopee-voucher.ph/claim\')" onmouseout="hideURL()">shopee-voucher.ph/claim</a>.',
        isPhishing: true,
        feedback: 'This is a smishing scam. The domain "shopee-voucher.ph" is not Shopee’s official "shopee.ph". Verify vouchers in the Shopee app.'
      },
      {
        type: 'email',
        difficulty: 'Medium',
        sender: 'Netflix Support <support@netflix.com>',
        subject: 'Your Account Settings',
        body: 'Dear Member,<br>Your Netflix account settings were updated on May 12, 2025. Review them <a href="https://www.netflix.com/account" onmouseover="showURL(\'https://www.netflix.com/account\')" onmouseout="hideURL()">here</a>.<br>Netflix Team',
        isPhishing: false,
        feedback: 'This is a legitimate email. The sender’s domain is "netflix.com", and the link points to the official Netflix account page.'
      },
      {
        type: 'sms',
        difficulty: 'Medium',
        sender: 'BPI Security',
        subject: 'Card Alert',
        body: 'BPI: Suspicious transaction detected. Verify it at <a href="http://bpi-secure.ph/verify" onmouseover="showURL(\'http://bpi-secure.ph/verify\')" onmouseout="hideURL()">bpi-secure.ph/verify</a>.',
        isPhishing: true,
        feedback: 'This is a smishing attempt. The domain "bpi-secure.ph" is not BPI’s official "bpi.com.ph". Contact BPI directly.'
      },
      {
        type: 'email',
        difficulty: 'Medium',
        sender: 'LinkedIn Support <support@linkedin.com>',
        subject: 'Connection Request',
        body: 'Dear User,<br>You have a new connection request. View it <a href="https://www.linkedin.com/notifications" onmouseover="showURL(\'https://www.linkedin.com/notifications\')" onmouseout="hideURL()">here</a>.<br>LinkedIn Team',
        isPhishing: false,
        feedback: 'This is a legitimate email. The sender’s domain is "linkedin.com", and the link points to the official LinkedIn notifications page.'
      },
      {
        type: 'sms',
        difficulty: 'Medium',
        sender: 'Lazada PH',
        subject: 'Flash Sale Alert',
        body: 'Lazada: Flash sale starts now! Shop at <a href="http://lazada-sale.ph/shop" onmouseover="showURL(\'http://lazada-sale.ph/shop\')" onmouseout="hideURL()">lazada-sale.ph/shop</a>.',
        isPhishing: true,
        feedback: 'This is a smishing scam. The domain "lazada-sale.ph" is not Lazada’s official "lazada.com.ph". Shop via the official app.'
      },
      {
        type: 'email',
        difficulty: 'Medium',
        sender: 'Google Security <security@google.com>',
        subject: 'Security Alert: New Login',
        body: 'Dear User,<br>A new login to your Google account was detected. If this wasn’t you, secure your account <a href="http://google-security.com/secure" onmouseover="showURL(\'http://google-security.com/secure\')" onmouseout="hideURL()">here</a>.<br>Google Team',
        isPhishing: true,
        feedback: 'This is a phishing email. The link points to "google-security.com", not the official "google.com". Secure accounts via Google’s official site.'
      },
      // Hard Questions (11)
      {
        type: 'email',
        difficulty: 'Hard',
        sender: 'GCash Support <support@gcash.com>',
        subject: 'Security Verification Required',
        body: 'Dear User,<br>We detected unusual activity. Verify your account <a href="http://gcash-login.ph/verify" onmouseover="showURL(\'http://gcash-login.ph/verify\')" onmouseout="hideURL()">here</a> to avoid suspension.<br>GCash Team',
        isPhishing: true,
        feedback: 'This is a phishing email. The sender’s domain "gcash.com" is legitimate, but the link points to "gcash-login.ph". Spoofed sender addresses are common in phishing.'
      },
      {
        type: 'sms',
        difficulty: 'Hard',
        sender: 'PayPal Alert',
        subject: 'Payment Issue',
        body: 'PayPal: Your payment failed. Resolve it at <a href="http://paypal-resolve.com/fix" onmouseover="showURL(\'http://paypal-resolve.com/fix\')" onmouseout="hideURL()">paypal-resolve.com/fix</a>.',
        isPhishing: true,
        feedback: 'This is a smishing attempt. The domain "paypal-resolve.com" is not PayPal’s official "paypal.com". Verify payments via the PayPal app.'
      },
      {
        type: 'email',
        difficulty: 'Hard',
        sender: 'PayPal Security <security@paypal.com>',
        subject: 'New Device Login Detected',
        body: 'Dear User,<br>A login from a new device was detected on May 12, 2025. If this was you, ignore this. If not, secure your account <a href="https://www.paypal.com/signin" onmouseover="showURL(\'https://www.paypal.com/signin\')" onmouseout="hideURL()">here</a>.<br>PayPal Team',
        isPhishing: false,
        feedback: 'This is a legitimate email. The sender’s domain is "paypal.com", and the link points to the official PayPal login page.'
      },
      {
        type: 'sms',
        difficulty: 'Hard',
        sender: 'Globe Telecom',
        subject: 'Account Verification',
        body: 'Globe: Verify your account due to a security update at <a href="http://globe-verify.ph/verify" onmouseover="showURL(\'http://globe-verify.ph/verify\')" onmouseout="hideURL()">globe-verify.ph/verify</a>.',
        isPhishing: true,
        feedback: 'This is a smishing scam. The domain "globe-verify.ph" is not Globe’s official "globe.com.ph". Verify accounts via official channels.'
      },
      {
        type: 'email',
        difficulty: 'Hard',
        sender: 'Microsoft Security <security@microsoft.com>',
        subject: 'Action Required: Account Review',
        body: 'Dear User,<br>Your Microsoft account needs review. Log in <a href="http://microsoft-login.com/review" onmouseover="showURL(\'http://microsoft-login.com/review\')" onmouseout="hideURL()">here</a> to complete the process.<br>Microsoft Team',
        isPhishing: true,
        feedback: 'This is a phishing email. The link points to "microsoft-login.com", not the official "microsoft.com". Always access Microsoft services directly.'
      },
      {
        type: 'sms',
        difficulty: 'Hard',
        sender: 'Shopee PH',
        subject: 'Order Issue',
        body: 'Shopee: Your order #456789 has an issue. Fix it at <a href="http://shopee-fix.ph/order" onmouseover="showURL(\'http://shopee-fix.ph/order\')" onmouseout="hideURL()">shopee-fix.ph/order</a>.',
        isPhishing: true,
        feedback: 'This is a smishing attempt. The domain "shopee-fix.ph" is not Shopee’s official "shopee.ph". Check orders in the Shopee app.'
      },
      {
        type: 'email',
        difficulty: 'Hard',
        sender: 'Amazon Security <security@amazon.com>',
        subject: 'Account Activity Alert',
        body: 'Dear Customer,<br>We detected unusual activity on your Amazon account. Secure it <a href="https://www.amazon.com/signin" onmouseover="showURL(\'https://www.amazon.com/signin\')" onmouseout="hideURL()">here</a>.<br>Amazon Team',
        isPhishing: false,
        feedback: 'This is a legitimate email. The sender’s domain is "amazon.com", and the link points to the official Amazon sign-in page.'
      },
      {
        type: 'sms',
        difficulty: 'Hard',
        sender: 'BDO Security',
        subject: 'Security Alert',
        body: 'BDO: Suspicious login detected. Secure your account at <a href="http://bdo-login.ph/secure" onmouseover="showURL(\'http://bdo-login.ph/secure\')" onmouseout="hideURL()">bdo-login.ph/secure</a>.',
        isPhishing: true,
        feedback: 'This is a smishing scam. The domain "bdo-login.ph" is not BDO’s official "bdo.com.ph". Contact BDO directly.'
      },
      {
        type: 'email',
        difficulty: 'Hard',
        sender: 'LinkedIn Security <security@linkedin.com>',
        subject: 'Profile Update Required',
        body: 'Dear User,<br>Your LinkedIn profile needs an update. Log in <a href="http://linkedin-update.com/login" onmouseover="showURL(\'http://linkedin-update.com/login\')" onmouseout="hideURL()">here</a> to proceed.<br>LinkedIn Team',
        isPhishing: true,
        feedback: 'This is a phishing email. The link points to "linkedin-update.com", not the official "linkedin.com". Update profiles via LinkedIn’s official site.'
      },
      {
        type: 'sms',
        difficulty: 'Hard',
        sender: 'PayMaya',
        subject: 'Account Alert',
        body: 'PayMaya: Your account needs verification. Complete it at <a href="http://paymaya-verify.com/verify" onmouseover="showURL(\'http://paymaya-verify.com/verify\')" onmouseout="hideURL()">paymaya-verify.com/verify</a>.',
        isPhishing: true,
        feedback: 'This is a smishing attempt. The domain "paymaya- Facetoface.com/verify" onmouseover="showURL(\'http://paymaya-verify.com/verify\')" onmouseout="hideURL()">paymaya-verify.com/verify</a>.',
        isPhishing: true,
        feedback: 'This is a smishing attempt. The domain "paymaya-verify.com" is not PayMaya’s official "paymaya.com". Verify accounts via the PayMaya app.'
      },
      {
        type: 'email',
        difficulty: 'Hard',
        sender: 'Google Support <support@google.com>',
        subject: 'Google Account Recovery',
        body: 'Dear User,<br>Your Google account recovery settings were updated. Review them <a href="https://accounts.google.com/signin" onmouseover="showURL(\'https://accounts.google.com/signin\')" onmouseout="hideURL()">here</a>.<br>Google Team',
        isPhishing: false,
        feedback: 'This is a legitimate email. The sender’s domain is "google.com", and the link points to the official Google sign-in page.'
      },
      // Extremely Difficult Questions (10)
      {
        type: 'email',
        difficulty: 'Extremely Difficult',
        sender: 'PayPal Security <security@paypal.com>',
        subject: 'Security Alert: Unusual Activity',
        body: 'Dear User,<br>We detected a login attempt from an unrecognized device. Please review the activity <a href="https://www.paypaI.com/security" onmouseover="showURL(\'https://www.paypaI.com/security\')" onmouseout="hideURL()">here</a>.<br>PayPal Security Team',
        isPhishing: true,
        feedback: 'This is a sophisticated phishing email. The link uses a homoglyph (capital "I" instead of "l") in "paypaI.com", making it appear as "paypal.com". Even experts can miss this without close inspection.'
      },
      {
        type: 'sms',
        difficulty: 'Extremely Difficult',
        sender: 'GCash Support',
        subject: 'Account Verification',
        body: 'GCash: Due to a security update, verify your account at <a href="https://gcаsh.com/verify" onmouseover="showURL(\'https://gcаsh.com/verify\')" onmouseout="hideURL()">gcash.com/verify</a>.',
        isPhishing: true,
        feedback: 'This is a smishing scam. The domain "gcаsh.com" uses a Cyrillic "а" instead of Latin "a", making it nearly identical to "gcash.com". Such homoglyph attacks are extremely hard to spot.'
      },
      {
        type: 'email',
        difficulty: 'Extremely Difficult',
        sender: 'Microsoft Security <security@microsoft.com>',
        subject: 'Azure Account Access Notification',
        body: 'Dear Admin,<br>A new login to your Azure account was detected on May 12, 2025. If this was you, no action is needed. If not, secure your account <a href="https://account.microsoft.com/security" onmouseover="showURL(\'https://account.microsoft.com/security\')" onmouseout="hideURL()">here</a>.<br>Microsoft Azure Team',
        isPhishing: false,
        feedback: 'This is a legitimate email. The sender’s domain is "microsoft.com", and the link points to the official Microsoft security page. The message follows Azure’s standard notification format.'
      },
      {
        type: 'sms',
        difficulty: 'Extremely Difficult',
        sender: 'BDO Security',
        subject: 'Transaction Alert',
        body: 'BDO: A transaction of P10,000 was initiated. Confirm it at <a href="https://bdo.com.ph.secure-login.com/confirm" onmouseover="showURL(\'https://bdo.com.ph.secure-login.com/confirm\')" onmouseout="hideURL()">bdo.com.ph.secure-login.com/confirm</a>.',
        isPhishing: true,
        feedback: 'This is a smishing attempt. The domain "bdo.com.ph.secure-login.com" is a subdomain of "secure-login.com", not BDO’s official "bdo.com.ph". Subdomain tricks are hard to detect.'
      },
      {
        type: 'email',
        difficulty: 'Extremely Difficult',
        sender: 'Amazon Security <security@amazon.com>',
        subject: 'Action Required: Verify Your Identity',
        body: 'Dear Customer,<br>To comply with our policies, please verify your identity <a href="https://amazon-security.com/verify" onmouseover="showURL(\'https://amazon-security.com/verify\')" onmouseout="hideURL()">here</a>. Failure to verify may limit your account.<br>Amazon Team',
        isPhishing: true,
        feedback: 'This is a phishing email. The link points to "amazon-security.com", not "amazon.com". The sender’s domain is spoofed, and the request mimics Amazon’s legitimate verification emails.'
      },
      {
        type: 'sms',
        difficulty: 'Extremely Difficult',
        sender: 'Shopee PH',
        subject: 'Order Verification',
        body: 'Shopee: Your order #987654 needs verification. Complete it at <a href="https://shopee.ph-login.com/verify" onmouseover="showURL(\'https://shopee.ph-login.com/verify\')" onmouseout="hideURL()">shopee.ph-login.com/verify</a>.',
        isPhishing: true,
        feedback: 'This is a smishing scam. The domain "shopee.ph-login.com" is not Shopee’s official "shopee.ph". Subdomain-based phishing is a subtle tactic.'
      },
      {
        type: 'email',
        difficulty: 'Extremely Difficult',
        sender: 'Google Security <security@google.com>',
        subject: 'New Device Sign-In',
        body: 'Dear User,<br>A sign-in from a new device was detected on May 12, 2025. If this was you, ignore this. If not, review activity <a href="https://myaccount.google.com/security" onmouseover="showURL(\'https://myaccount.google.com/security\')" onmouseout="hideURL()">here</a>.<br>Google Team',
        isPhishing: false,
        feedback: 'This is a legitimate email. The sender’s domain is "google.com", and the link points to the official Google security page.'
      },
      {
        type: 'sms',
        difficulty: 'Extremely Difficult',
        sender: 'PayMaya',
        subject: 'Security Update',
        body: 'PayMaya: Update your security settings at <a href="https://paymaya.com.security-update.com/update" onmouseover="showURL(\'https://paymaya.com.security-update.com/update\')" onmouseout="hideURL()">paymaya.com.security-update.com/update</a>.',
        isPhishing: true,
        feedback: 'This is a smishing attempt. The domain "paymaya.com.security-update.com" is a subdomain of "security-update.com", not PayMaya’s official "paymaya.com".'
      },
      {
        type: 'email',
        difficulty: 'Extremely Difficult',
        sender: 'LinkedIn Security <security@linkedin.com>',
        subject: 'OAuth App Authorization',
        body: 'Dear User,<br>A new app requested access to your LinkedIn account. Authorize it <a href="https://linkedin-oauth.com/authorize" onmouseover="showURL(\'https://linkedin-oauth.com/authorize\')" onmouseout="hideURL()">here</a> or deny if unrecognized.<br>LinkedIn Team',
        isPhishing: true,
        feedback: 'This is a phishing email. The link points to "linkedin-oauth.com", not "linkedin.com". OAuth phishing mimics legitimate app authorization requests.'
      },
      {
        type: 'sms',
        difficulty: 'Extremely Difficult',
        sender: 'Globe Telecom',
        subject: 'Bill Payment',
        body: 'Globe: Your bill payment is due. Pay at <a href="https://globe.com.ph-payment.com/pay" onmouseover="showURL(\'https://globe.com.ph-payment.com/pay\')" onmouseout="hideURL()">globe.com.ph-payment.com/pay</a>.',
        isPhishing: true,
        feedback: 'This is a smishing scam. The domain "globe.com.ph-payment.com" is not Globe’s official "globe.com.ph". Subdomain phishing is highly deceptive.'
      }
    ];

    let currentQuestion = 0;
    let score = 0;
    const totalQuestions = 10;

    // Shuffle and select 10 questions
    function getRandomQuestions() {
      const shuffled = questions.sort(() => Math.random() - 0.5);
      return shuffled.slice(0, 10);
    }

    let currentQuestions = getRandomQuestions();

    // URL Hover Display
    const urlDisplay = document.createElement('div');
    urlDisplay.id = 'url-display';
    urlDisplay.className = 'absolute bg-gray-800 text-white text-sm px-2 py-1 rounded hidden';
    document.body.appendChild(urlDisplay);

    function showURL(url) {
      urlDisplay.textContent = url;
      urlDisplay.classList.remove('hidden');
      urlDisplay.style.top = `${event.pageY + 10}px`;
      urlDisplay.style.left = `${event.pageX + 10}px`;
    }

    function hideURL() {
      urlDisplay.classList.add('hidden');
    }

    function loadQuestion() {
      const question = currentQuestions[currentQuestion];
      document.getElementById('current-question').textContent = currentQuestion + 1;
      document.getElementById('total-questions').textContent = totalQuestions;
      document.getElementById('sender').textContent = question.sender;
      document.getElementById('subject').textContent = question.subject;
      document.getElementById('difficulty').textContent = `Difficulty: ${question.difficulty}`;
      document.getElementById('message-body').innerHTML = question.body;
      document.getElementById('progress-bar').style.width = `${((currentQuestion + 1) / totalQuestions) * 100}%`;

      // Adjust styling for SMS vs Email
      const messageDisplay = document.getElementById('message-display');
      if (question.type === 'sms') {
        messageDisplay.classList.add('max-w-md', 'mx-auto', 'bg-gray-50', 'border-2', 'border-gray-400');
        messageDisplay.classList.remove('border-gray-300');
      } else {
        messageDisplay.classList.remove('max-w-md', 'mx-auto', 'bg-gray-50', 'border-2', 'border-gray-400');
        messageDisplay.classList.add('border-gray-300');
      }
    }

    function showFeedback(isCorrect, feedback) {
      const modal = document.getElementById('feedback-modal');
      const title = document.getElementById('feedback-title');
      const message = document.getElementById('feedback-message');
      title.textContent = isCorrect ? 'Correct!' : 'Incorrect';
      title.className = isCorrect ? 'text-green-600' : 'text-red-600';
      message.textContent = feedback;
      modal.classList.remove('hidden');
    }

    function showResults() {
      document.getElementById('quiz-container').classList.add('hidden');
      document.getElementById('results-container').classList.remove('hidden');
      document.getElementById('final-score').textContent = score;
      const resultsMessage = document.getElementById('results-message');
      if (score >= 8) {
        resultsMessage.textContent = 'Excellent job! You’re well-equipped to spot phishing attempts. Keep practicing to stay sharp.';
      } else if (score >= 5) {
        resultsMessage.textContent = 'Good effort! You caught some phishing attempts, but review the feedback to improve your skills.';
      } else {
        resultsMessage.textContent = 'Needs improvement. Phishing attacks are tricky! Retake the quiz and focus on the feedback to learn common red flags.';
      }
    }

    // Event Listeners
    document.getElementById('legitimate-btn').addEventListener('click', () => {
      const question = currentQuestions[currentQuestion];
      const isCorrect = !question.isPhishing;
      if (isCorrect) score++;
      document.getElementById('score').textContent = score;
      showFeedback(isCorrect, question.feedback);
    });

    document.getElementById('phishing-btn').addEventListener('click', () => {
      const question = currentQuestions[currentQuestion];
      const isCorrect = question.isPhishing;
      if (isCorrect) score++;
      document.getElementById('score').textContent = score;
      showFeedback(isCorrect, question.feedback);
    });

    document.getElementById('next-btn').addEventListener('click', () => {
      document.getElementById('feedback-modal').classList.add('hidden');
      currentQuestion++;
      if (currentQuestion < totalQuestions) {
        loadQuestion();
      } else {
        showResults();
      }
    });

    document.getElementById('restart-btn').addEventListener('click', () => {
      currentQuestion = 0;
      score = 0;
      document.getElementById('score').textContent = score;
      document.getElementById('quiz-container').classList.remove('hidden');
      document.getElementById('results-container').classList.add('hidden');
      currentQuestions = getRandomQuestions();
      loadQuestion();
    });

    // Initialize Quiz
    loadQuestion();
  </script>
</body>
</html>
